# jvm

## 数据区

### 线程共享
所有线程都能访问共享内存，随虚拟机或者GC而创建销毁
共享部分会产生线程安全问题。
#### 方法区
作用：存储加载的类信息、常量、静态变量、JIT编译后的代码等数据。（存储类的原信息）  
GC：方法区存在GC，单回收效率低。（当类的实例对象还没有被回收的时候，不能回收类对象）  
回收主要针对常量池的回收，和类型的卸载。当方法区无法满足内存需求时，会报OOM。java8变为元数据区
#### 堆
作用：存放对象实例。只是存储了实例字段的值。对于大多数应用来说，堆是JVM管理的内存中的最大的一块内存区域，也是最容易OOM的区域。可以通过（-Xmx，-Xms）控制jvm堆大小。
GC:
引用计数器算法；当计数器减到0则可以回收
可达性分析算法：GC ROOT可以是虚拟机栈；方法中的静态属性；方法区中常量引用对象

### 线程独享
每个线程都会有它独立的空间，随着线程的生命周期而创建销毁 
#### 虚拟机栈
描述方法调用（栈帧）顺序。局部变量存在栈中，成员变量存在堆中，静态变量存在方法区。

## java运行过程 